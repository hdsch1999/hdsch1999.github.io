                                                   操作系统之线程同步之自旋锁

自旋锁的原理与互斥锁是一样的。

自旋锁也是一个使得多线程同步的变量，他会反复检查锁变量是否可用，就是检查这个线程所想使用的资源可不可用。不可用就会一直等待并且一直不停的检查，就像是在
一直不停的申请一样。而且自旋锁会使那个等待的线程一直占用着cpu不放。是一种忙等待状态。

使用自旋锁可以避免进程或线程上下文切换的开销，就是避免了线程在等待的时候将cpu释放，将上下文数据存储，又使得一个新的线程获得cpu资源，从而需要将这个获得了
cpu资源的新线程的上下文信息载入。就是避免了这种在只需很短的时间等待的情况下瞎折腾。

在需要等待的时间不长情况下用自旋锁很合适。

自旋锁不适合在单核cpu的情况下使用，因为自旋锁是不会释放cpu资源的。所以不要在单核cpu的情况下使用，以免出现了全员阻塞状态。

自旋锁和互斥锁之间的区别就是自旋锁使得线程在等待的时候不会释放cpu资源，这就是他们俩最大的区别。
