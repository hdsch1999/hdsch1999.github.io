                                                       计算机网络之IP协议详解

虚拟互连网络


实际的计算机网络是非常复杂的。有可能连接到家庭、公司，各大洲，连到哪里都可能。

物理设备使用IP协议，屏蔽了设备之间物理之间的差异。就是将学校、家庭、公司、地区、各大洲之间的物理设备之间的差异。

当网络设备之间使用IP协议时，不用关心两个设备之间的传输问题，只需要把数据传输出去，或接收就行了。

IP协议使得复杂的世纪网络变为了一个你不需要关心他内部是怎么实现的，就可以把两个设备之间的复杂网络想成一个大光球，把数据传进去，拿出来，就行了。充分的表
现了各层之间互不相关的解耦性。

IP协议使得网络层可以屏蔽了底层细节而专注网络层的数据转发。

IP协议解决了在虚拟网络中数据传输报传输路径的问题。

IP协议

IP地址也是由数字10组成的，用的是点分十进制，IP地址对于网络层的设备来说就和MAC地址对于网络链路层的物理设备来说是一样的，都是他们的身份证，都是唯一的。
与MAC地址不同的是，IP地址对应的是网络设备是可以变化的。你用家里的是一个IP，用别的地方的网又是一个IP，说白了就是网变了，IP也会变。

IP地址长度为32位，分为4个字节。

IP地址是用点分十进制来表示的。

IP地址总共可以有42个IP地址。

帧中的数据就是IP数据报的内容，而IP数据报分为IP首部和IP数据报的数据。

对于IP协议的头部来说，必须要有这5行。

4位版本：占四位，指的就是IP协议的版本，通信的双方版本必须一致。就是IPV4，IPV6什么的。（IPV4地址已经用尽了，以后应该都是IPV6了）
首部位长度：占四位最大数值为15，表示的是IP的首部长度。单位是4字节，也就是说首部长度最大为60字节。
总长度：占16位，最大数值为65535，表示的是IP数据报总长度（首部加数据）。如果数据报（最大65535）比MTU（最大1500）大，那我们就会将IP报分段，再将其封装
成帧，进行传输。
TTL：占8位，表明IP数据报文在网络中的寿命，每经过一个设备，TTL就减1。当TTL=0，网络设备就必须舍弃掉该报文。这个防止的就是网络报文在网络中找不到终点的时
候，数据在网络中无线传来传去，像个没头苍蝇一样，浪费网络带宽。
协议：占8位，表明IP数据所携带的具体数据是什么协议的。用数字来代指各个协议。，其中也包括IP，IP报文携带IP数据，就是套娃。
首部校验和：占16位，用来检验IP首部是否出错。
源IP地址：从哪来。
目的IP地址：到哪去。

