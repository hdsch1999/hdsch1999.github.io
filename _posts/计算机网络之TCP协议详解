                                                 计算机网络之TCP协议详解

TCP（Transmission Contol Protocol:传输控制协议）


TCP协议是计算机网络中非常复杂的一个协议。

TCp协议也位于IP数据报的数据中，由TCP首部和TCp数据报的数据。

TCp是一个面向连接的协议，是需要链接的。

TCP的一个链接要有两端（点对点通信）

TCP可以提供一个可靠地传输服务，比UDP要强。

TCP协议提供全双工的通信，就是说，两个人打电话，两人都可以说话。也就是说，两个电脑都可以互相发信息接受信息。

TCP是面向字节流的数据，他不把数据看成一个完整的数据，而是一个数据流，因此他可以将数据中的某一段进行传输，它可以对用户的信息进行合并和分拆。可以将
数据更好的传输。

TCP首部：16位源端口、16位目的端口、序号、确认号、数据偏移、保留字段、TCP标记、窗口、校验和、紧急指针、填充（用于将其填充为32位的数据）TCP选项
（可选），除了填充和TCP选项以外，其他都是固定一共有20个字节。

序号：可以表示0-2^32个，对于TCP协议来说，每一个序号都对应着一个字节，这个序号其实是用来代表TCP数据报的数据中首字节的序号的。

确认号：0-2^32，也是一个字节一个序号。其实就是这个设备期望收到下一个数据报里面的数据的首字节。

如果某一个报文的确认号是N的话，那么也就意味着N-1的数据他都已经收到了。

数据偏移：占4位，偏移可以是0-15，他的单位是32位字。也就是说每一个数据偏移都可以表示4个字节的偏移。这个数据偏移指的是数据偏离首部的距离。这个主要
是由于TCP的可选项所造成的，是给TCP选项和填充留出的位置。没有这两个，首部是20个字节，给他们留的最大位置是60个字节，所以TCP协议首部是20到60个字节。

TCP标记：占六位，每一个比特位都有不同的涵义。


窗口：占16位，表示范围0-2^16-1。表示允许对方发送的数据量，要和确认号合起来看。比如我允许你发送1000个数据，我的确认号是500，那么501到1000都是可以
接收的。

紧急指针：只有在前面的TCP标记中的URG=1，用处就是指出紧急报文在数据报中的位置，指针嘛。

TCP选项：最多40字节，用于未来的发展。
